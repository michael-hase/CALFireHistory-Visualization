<!DOCTYPE html>
<html>
<head>
    <title>Interactive Fire Data Visualization with Zoom and Pan</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        .feature {
            fill: orange;
            stroke: white;
            stroke-width: 1px;
        }
        .feature:hover {
            fill: red;
        }
        /* Add styles for your tooltip here */
    </style>
</head>
<body>
    <div id="map"></div>

    <script>
        var width = 960, height = 600;

        var svg = d3.select("#map").append("svg")
                    .attr("width", width)
                    .attr("height", height);

        var g = svg.append("g");

        var projection = d3.geoMercator()
                           .scale(1300)
                           .center([-120, 37])  // Center on California
                           .translate([width / 2, height / 2]);

        var path = d3.geoPath().projection(projection);

        // Define zoom behavior
        var zoom = d3.zoom()
                     .scaleExtent([1, 8])
                     .on('zoom', (event) => {
                         g.attr('transform', event.transform);
                     });

        // Apply the zoom behavior to the SVG
        svg.call(zoom);

        d3.json("../data/calfire.geojson").then(function(ca) {
            g.selectAll(".feature")
               .data(ca.features)
               .enter().append("path")
               .attr("class", "feature")
               .attr("d", path)
               .on("mouseover", function(event, d) {
                   // Add interactivity, like showing a tooltip
               })
               .on("mouseout", function(event, d) {
                   // Hide tooltip or reverse any hover effects
               });
        });
    </script>
</body>
</html>
